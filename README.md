# è´ªåƒè›‡æ¸¸æˆ - Next.js + TypeScript

ä¸€ä¸ªä½¿ç”¨ Next.js 14ã€TypeScript å’Œ Canvas API æ„å»ºçš„ç°ä»£åŒ–è´ªåƒè›‡æ¸¸æˆã€‚

## é¡¹ç›®ç»“æ„

```
snake-demo/
â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”œâ”€â”€ layout.tsx         # æ ¹å¸ƒå±€
â”‚   â”œâ”€â”€ page.tsx           # ä¸»é¡µé¢
â”‚   â””â”€â”€ globals.css        # å…¨å±€æ ·å¼
â”œâ”€â”€ components/            # React ç»„ä»¶
â”‚   â”œâ”€â”€ GameCanvas.tsx     # æ¸¸æˆç”»å¸ƒç»„ä»¶
â”‚   â””â”€â”€ Toolbar.tsx        # å·¥å…·æ ç»„ä»¶
â”œâ”€â”€ hooks/                 # è‡ªå®šä¹‰ Hooks
â”‚   â””â”€â”€ useGame.ts         # æ¸¸æˆä¸»å¾ªç¯ Hook
â”œâ”€â”€ lib/                   # æ ¸å¿ƒé€»è¾‘åº“
â”‚   â”œâ”€â”€ game/             # æ¸¸æˆé€»è¾‘æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ types.ts      # ç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ config.ts     # æ¸¸æˆé…ç½®
â”‚   â”‚   â”œâ”€â”€ gameState.ts  # æ¸¸æˆçŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ snake.ts      # è›‡çš„ç§»åŠ¨é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ food.ts       # é£Ÿç‰©ç”Ÿæˆé€»è¾‘
â”‚   â”‚   â”œâ”€â”€ collision.ts  # ç¢°æ’æ£€æµ‹
â”‚   â”‚   â””â”€â”€ ai.ts         # AI å†³ç­–é€»è¾‘
â”‚   â””â”€â”€ rendering/        # æ¸²æŸ“æ¨¡å—
â”‚       â””â”€â”€ renderer.ts   # Canvas æ¸²æŸ“å™¨
â”œâ”€â”€ docs/                  # æ–‡æ¡£
â”‚   â””â”€â”€ snake-ai.md       # AI ç®—æ³•è¯´æ˜
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ next.config.js
â””â”€â”€ .gitignore
```

## ç‰¹æ€§

- âœ… **TypeScript** - å®Œæ•´çš„ç±»å‹å®‰å…¨
- âœ… **æ¨¡å—åŒ–è®¾è®¡** - æ¸…æ™°çš„ä»£ç ç»„ç»‡ï¼Œä¾¿äºç»´æŠ¤
- âœ… **Next.js 14** - ä½¿ç”¨æœ€æ–°çš„ App Router
- âœ… **AI æ¨¡å¼** - æ™ºèƒ½è´ªåƒè›‡ AIï¼Œæ”¯æŒå°¾éƒ¨å¯è¾¾æ€§æ£€æŸ¥
- âœ… **äººå·¥æ§åˆ¶** - æ”¯æŒæ–¹å‘é”®å’Œ WASD æ§åˆ¶
- âœ… **ç°ä»£åŒ– UI** - æ·±è‰²ä¸»é¢˜ï¼Œæµç•…åŠ¨ç”»

## å¼€å§‹ä½¿ç”¨

### å®‰è£…ä¾èµ–

```bash
npm install
```

### å¼€å‘æ¨¡å¼

```bash
npm run dev
```

è®¿é—® [http://localhost:3000](http://localhost:3000) æŸ¥çœ‹æ¸¸æˆã€‚

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
npm start
```

## æ¸¸æˆæ§åˆ¶

- **æ–¹å‘é”®** æˆ– **WASD** - æ§åˆ¶è›‡çš„ç§»åŠ¨æ–¹å‘
- **ç©ºæ ¼é”®** - å¼€å§‹/é‡æ–°å¼€å§‹æ¸¸æˆ
- **1** - åˆ‡æ¢åˆ°äººå·¥æ§åˆ¶æ¨¡å¼
- **2** - åˆ‡æ¢åˆ° AI è‡ªåŠ¨æ§åˆ¶æ¨¡å¼

## ä»£ç æ¶æ„è¯´æ˜

### æ¸¸æˆé€»è¾‘æ¨¡å— (`lib/game/`)

- **types.ts** - å®šä¹‰æ‰€æœ‰æ¸¸æˆç›¸å…³çš„ TypeScript ç±»å‹
- **config.ts** - æ¸¸æˆé…ç½®ï¼ˆç½‘æ ¼å¤§å°ã€é€Ÿåº¦ã€é¢œè‰²ç­‰ï¼‰
- **gameState.ts** - æ¸¸æˆçŠ¶æ€ç®¡ç†å‡½æ•°
- **snake.ts** - è›‡çš„ç§»åŠ¨å’Œæ–¹å‘å¤„ç†é€»è¾‘
- **food.ts** - é£Ÿç‰©çš„ç”Ÿæˆå’Œç¢°æ’æ£€æµ‹
- **collision.ts** - ç¢°æ’æ£€æµ‹ï¼ˆå¢™å£å’Œè‡ªèº«ï¼‰
- **ai.ts** - AI å†³ç­–ç®—æ³•ï¼ŒåŒ…æ‹¬å°¾éƒ¨å¯è¾¾æ€§æ£€æŸ¥

### æ¸²æŸ“æ¨¡å— (`lib/rendering/`)

- **renderer.ts** - Canvas æ¸²æŸ“å™¨ç±»ï¼Œè´Ÿè´£ç»˜åˆ¶æ¸¸æˆç”»é¢

### React ç»„ä»¶ (`components/`)

- **GameCanvas.tsx** - æ¸¸æˆç”»å¸ƒç»„ä»¶ï¼Œç®¡ç† Canvas å…ƒç´ 
- **Toolbar.tsx** - å·¥å…·æ ç»„ä»¶ï¼Œæ˜¾ç¤ºåˆ†æ•°å’Œæ§åˆ¶æŒ‰é’®

### Hooks (`hooks/`)

- **useGame.ts** - æ¸¸æˆä¸»å¾ªç¯ Hookï¼Œç®¡ç†æ¸¸æˆçŠ¶æ€å’Œäº‹ä»¶å¤„ç†

## æŠ€æœ¯æ ˆ

- **Next.js 14** - React æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨
- **Canvas API** - æ¸¸æˆæ¸²æŸ“
- **React Hooks** - çŠ¶æ€ç®¡ç†

## å¼ºåŒ–å­¦ä¹ ï¼ˆReinforcement Learningï¼‰

é¡¹ç›®å·²å‡†å¤‡å¥½å¼ºåŒ–å­¦ä¹ çš„åŸºç¡€è®¾æ–½ï¼

### å·²å®ç°çš„åŠŸèƒ½

- âœ… **çŠ¶æ€æå–å™¨** (`lib/rl/stateExtractor.ts`) - å°†æ¸¸æˆçŠ¶æ€è½¬æ¢ä¸ºç‰¹å¾å‘é‡
- âœ… **å¥–åŠ±è®¡ç®—å™¨** (`lib/rl/rewardCalculator.ts`) - æ ¹æ®æ¸¸æˆäº‹ä»¶è®¡ç®—å¥–åŠ±
- âœ… **Q-Learningç®—æ³•** (`lib/rl/qLearning.ts`) - åŸºç¡€çš„å¼ºåŒ–å­¦ä¹ ç®—æ³•å®ç°
- âœ… **ç±»å‹å®šä¹‰** (`lib/rl/types.ts`) - RLç›¸å…³çš„TypeScriptç±»å‹
- âœ… **è®­ç»ƒé…ç½®** (`lib/rl/config.ts`) - å¯é…ç½®çš„è®­ç»ƒå‚æ•°

### å­¦ä¹ èµ„æº

- ğŸ“– [å¼ºåŒ–å­¦ä¹ å­¦ä¹ æŒ‡å—](./docs/reinforcement-learning.md) - è¯¦ç»†çš„ç†è®ºå’Œå®è·µæŒ‡å—
- ğŸ“– [RLå¸¸è§é—®é¢˜è§£ç­”](./docs/rl-faq.md) - è§£ç­”å¸¸è§é—®é¢˜
- ğŸ“– [RLå®æ–½è®¡åˆ’](./docs/rl-implementation-plan.md) - åˆ†é˜¶æ®µå®æ–½è·¯çº¿å›¾

### å¿«é€Ÿå¼€å§‹RLè®­ç»ƒ

1. **ç†è§£æ¦‚å¿µ**ï¼šé˜…è¯» `docs/reinforcement-learning.md`
2. **å®ç°Q-Learning**ï¼šä½¿ç”¨å·²å®ç°çš„ `lib/rl/qLearning.ts`
3. **é›†æˆè®­ç»ƒ**ï¼šå°†RL Agenté›†æˆåˆ°æ¸¸æˆå¾ªç¯ä¸­
4. **è§‚å¯Ÿæ•ˆæœ**ï¼šè®­ç»ƒå¹¶è°ƒä¼˜è¶…å‚æ•°

### ä¸‹ä¸€æ­¥

- [ ] é›†æˆQ-Learningåˆ°æ¸¸æˆå¾ªç¯
- [ ] å®ç°DQNï¼ˆDeep Q-Networkï¼‰
- [ ] æ·»åŠ è®­ç»ƒå¯è§†åŒ–ç•Œé¢
- [ ] ï¼ˆå¯é€‰ï¼‰æ­å»ºPythonåç«¯è®­ç»ƒæœåŠ¡

## å¼€å‘è®¡åˆ’

- [x] æ·»åŠ å¼ºåŒ–å­¦ä¹ åŸºç¡€è®¾æ–½
- [ ] é›†æˆQ-Learningè®­ç»ƒ
- [ ] å®ç°DQNç®—æ³•
- [ ] æ·»åŠ æ¸¸æˆéš¾åº¦é€‰æ‹©
- [ ] æ·»åŠ æ’è¡Œæ¦œåŠŸèƒ½
- [ ] æ·»åŠ éŸ³æ•ˆå’ŒèƒŒæ™¯éŸ³ä¹

## è®¸å¯è¯

MIT

